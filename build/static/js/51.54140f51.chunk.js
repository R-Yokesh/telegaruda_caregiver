"use strict";(self.webpackChunktelegaruda_caregiver=self.webpackChunktelegaruda_caregiver||[]).push([[51],{89302:(e,t,a)=>{a.d(t,{A:()=>l});var i=a(65043);const l=()=>{const e="https://telegaruda-api.a2zhealth.in/v1/",t="feafbab7cb630d7110a81685b90c4b82",[a,l]=(0,i.useState)(!1),[n,s]=(0,i.useState)(null),r=(0,i.useRef)({}),o=(0,i.useCallback)((async(t,a)=>{if(l(!0),null!==r&&void 0!==r&&r.current[t]&&t.startsWith("resource/vitals")&&(l(!0),r.current={}),null!==r&&void 0!==r&&r.current[t])return l(!1),r.current[t];try{const i=await fetch(e+t,a);if(!i.ok)throw new Error("Failed to fetch ".concat(t,": ").concat(i.statusText));const n=await i.json();return r.current[t]=n,l(!1),n}catch(n){throw l(!1),s("Error: ".concat(n.message)),n}}),[e]),c=(0,i.useCallback)((async e=>{const a={method:"GET",headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token")),"X-API-KEY":t}};return await o(e,a)}),[o,t]),d=(0,i.useCallback)((async(e,a)=>{const i={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(sessionStorage.getItem("token")),"X-API-KEY":t},body:JSON.stringify(a)};return await o(e,i)}),[o]),u=(0,i.useCallback)((async(e,a)=>{const i={method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(sessionStorage.getItem("token")),"X-API-KEY":t},body:JSON.stringify(a)};return await o(e,i)}),[o]),p=(0,i.useCallback)((async a=>{const i={method:"DELETE",headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token")),"X-API-KEY":t}};l(!0);try{const t=await fetch(e+a,i);if(!t.ok)throw new Error("Failed to fetch ".concat(a,": ").concat(t.statusText));const n=await t.json();return l(!1),n}catch(n){throw l(!1),s("Error: ".concat(n.message)),n}}),[t,e]);return{loading:a,error:n,get:c,post:d,patch:u,del:p,clearCache:(0,i.useCallback)((()=>{r.current={}}),[])}}},79505:(e,t,a)=>{a.d(t,{A:()=>o});var i=a(80861),l=a(96105),n=(a(65043),a(257)),s=a(73216),r=a(70579);const o=()=>{var e,t,a,o,c,d,u,p,m,h,v,x,g;const f=null===(e=(0,s.zy)().state)||void 0===e?void 0:e.PatientDetail;return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(i.E,{className:"card-profile",children:(0,r.jsxs)(l.W,{className:"d-flex gap-4",children:[(0,r.jsx)("div",{className:"img-container",children:(0,r.jsx)("img",{src:n.s.patient1,alt:"profile-img"})}),(0,r.jsxs)("div",{className:"user-details",children:[(0,r.jsxs)("span",{className:"user-title",children:[null===f||void 0===f||null===(t=f.user)||void 0===t?void 0:t.first_name," ",null===f||void 0===f||null===(a=f.user)||void 0===a?void 0:a.last_name]}),(0,r.jsxs)("div",{className:"d-flex flex-wrap gap-2",children:[(0,r.jsx)("p",{className:"user-email",children:null!==(o=null===f||void 0===f||null===(c=f.user)||void 0===c?void 0:c.email)&&void 0!==o?o:"--"}),(0,r.jsx)("p",{className:"user-email",children:"|"}),(0,r.jsxs)("p",{className:"user-email",children:[null===f||void 0===f||null===(d=f.user)||void 0===d?void 0:d.isd_code," ",null!==(u=null===f||void 0===f||null===(p=f.user)||void 0===p?void 0:p.mobile)&&void 0!==u?u:"--"]})]}),(0,r.jsxs)("div",{className:"d-flex flex-wrap gap-2",children:[(0,r.jsxs)("p",{className:"user-email",children:["MRN: ",null!==(m=null===f||void 0===f||null===(h=f.additional_info)||void 0===h?void 0:h.mrn_number)&&void 0!==m?m:"--"]}),(0,r.jsx)("p",{className:"user-email",children:"|"}),(0,r.jsxs)("p",{className:"user-email",children:[null!==(v=null===f||void 0===f||null===(x=f.additional_info)||void 0===x?void 0:x.age)&&void 0!==v?v:"--"," yrs (","Male"===(null===f||void 0===f||null===(g=f.user)||void 0===g?void 0:g.gender)?" M ":" F ",")"]})]})]})]})})})}},17406:(e,t,a)=>{a.d(t,{A:()=>o});var i=a(80861),l=a(96105),n=a(65043),s=a(257),r=a(70579);const o=e=>{let{getCurrentTab:t}=e;const a=[{id:1,title:"Call",image:s.s.Call},{id:2,title:"Medical Profile",image:s.s.Notes},{id:3,title:"Camera Control",image:s.s.Camera},{id:4,title:"Pair",image:s.s.Qr}],[o,c]=(0,n.useState)((()=>{const e=localStorage.getItem("patiendDetailTab"),t=localStorage.getItem("PatientMenu"),i=()=>null===a||void 0===a?void 0:a.find((e=>(null===e||void 0===e?void 0:e.id)===Number(t)));return console.log(i()),e?JSON.parse(e):t?i():null}));return(0,r.jsx)(i.E,{className:"card-tabs",children:(0,r.jsx)(l.W,{className:"tabs-container",children:a.map(((e,a)=>(0,r.jsxs)("div",{className:"tab-items ".concat((null===e||void 0===e?void 0:e.id)===(null===o||void 0===o?void 0:o.id)?"tab-active":""),onClick:()=>(e=>{localStorage.removeItem("PatientSubMenu-1"),localStorage.removeItem("PatientSubMenu-2"),localStorage.removeItem("PatientSubMenu-3"),localStorage.removeItem("PatientSubMenu-4"),localStorage.removeItem("PatientSubMenu-5"),localStorage.removeItem("PatientMenu"),localStorage.removeItem("PatientConsultTab"),localStorage.setItem("patiendDetailTab",JSON.stringify(e)),c(e),t(null===e||void 0===e?void 0:e.id),(null===e||void 0===e?void 0:e.id)===(null===o||void 0===o?void 0:o.id)&&(t(null),c(null))})(e),children:[(0,r.jsx)("img",{src:null===e||void 0===e?void 0:e.image,alt:"call",className:"tab-icon"}),(0,r.jsx)("span",{className:"tab-title",children:null===e||void 0===e?void 0:e.title})]},a)))})})}},99558:(e,t,a)=>{a.d(t,{A:()=>s});a(65043);var i=a(257),l=a(20761),n=a(70579);const s=function(e){var t,a,s,r,o,c,d,u,p;let{DoctorDetail:m}=e;return(0,n.jsxs)("div",{className:"card-sec",children:[(0,n.jsxs)("div",{className:"row align-items-center",children:[(0,n.jsx)("div",{className:"profile col-4",children:(0,n.jsx)("img",{src:(null===m||void 0===m?void 0:m.profile)||i.s.NoImg,alt:"Patient-image"})}),(0,n.jsxs)("div",{className:"patient-details col-8 p-2",children:[(0,n.jsxs)("h5",{children:["Dr."," ",null!==m&&void 0!==m&&m.participants?null===m||void 0===m||null===(t=m.participants[1])||void 0===t||null===(a=t.participant_info)||void 0===a?void 0:a.name:"--"]}),(0,n.jsxs)("p",{className:"gap-sec d-flex flex-wrap",children:[(0,n.jsx)("small",{className:"fs-10 fw-500",children:null!==m&&void 0!==m&&m.participants?null===m||void 0===m||null===(s=m.participants[1])||void 0===s||null===(r=s.participant_info)||void 0===r?void 0:r.email:"--"}),(0,n.jsx)("small",{className:"fs-10 fw-500",children:"|"}),(0,n.jsx)("small",{className:"fs-10 fw-500",children:null!==m&&void 0!==m&&m.participants?null===m||void 0===m||null===(o=m.participants[1])||void 0===o||null===(c=o.participant_info)||void 0===c?void 0:c.phone:"--"})]}),(0,n.jsxs)("p",{className:"flex-sec-wrap gap-sec",children:[(0,n.jsx)("small",{className:"fs-10 fw-600",children:null!==m&&void 0!==m&&m.participants?null===m||void 0===m||null===(d=m.participants[1])||void 0===d||null===(u=d.participant_info)||void 0===u||null===(p=u.additional_info)||void 0===p?void 0:p.consult_speciality:"--"}),(0,n.jsx)("small",{className:"fs-10 fw-600",children:"|"}),(0,n.jsx)("small",{className:"fs-10 fw-600",children:null!==m&&void 0!==m&&m.scheduled_at?(0,l.r6)(null===m||void 0===m?void 0:m.scheduled_at):"--"})]})]})]}),(0,n.jsx)("img",{src:i.s.notes,className:"edit-icon",alt:"edit-icon"})]})}},64417:(e,t,a)=>{a.d(t,{A:()=>l});a(65043);var i=a(70579);const l=()=>(0,i.jsx)("div",{class:"loading",children:(0,i.jsxs)("svg",{height:"96px",width:"128px",viewBox:"0 0 64 48",children:[(0,i.jsx)("polyline",{id:"back",points:"0.157 23.954, 14 23.954, 21.843 48, 43 0, 50 24, 64 24"}),(0,i.jsx)("polyline",{id:"front",points:"0.157 23.954, 14 23.954, 21.843 48, 43 0, 50 24, 64 24"})]})})},70986:(e,t,a)=>{a.d(t,{A:()=>n});var i=a(65043),l=a(70579);const n=e=>{let{currentPage:t,totalItems:a,onPageChange:n,itemsPerPage:s}=e;const[r,o]=(0,i.useState)(1);(0,i.useEffect)((()=>{const e=Math.ceil(a/s);o(e)}),[a,s]);const c=e=>{e>=1&&e<=r&&n(e)},d=(()=>{const e=[];if(r<=5)for(let t=1;t<=r;t++)e.push(t);else if(t<=3){for(let t=1;t<=3;t++)e.push(t);e.push("..."),e.push(r)}else if(t>=r-2){e.push(1),e.push("...");for(let t=r-2;t<=r;t++)e.push(t)}else{e.push(1),e.push("...");for(let a=t-1;a<=t+1;a++)a>0&&a<=r&&e.push(a);e.push("..."),e.push(r)}return e.filter(((e,t,a)=>"..."!==e||t>0&&"..."!==a[t-1]))})();return(0,l.jsxs)("div",{style:{display:"flex"},children:[(0,l.jsx)("div",{onClick:()=>c(t-1),disabled:1===t,"aria-label":"Previous",style:{width:"56px !important",height:"56px !important",display:"flex",alignItems:"center",justifyContent:"center",gap:"0px !important",borderRadius:"8px !important",opacity:"0px !important",boxShadow:"0px 4px 24px 0px #0084CF14 !important",marginLeft:"10px !important",outline:"none !important",border:"none !important",fontSize:"20px !important",fontWeight:"600 !important",lineHeight:"28.9px !important",cursor:"pointer"},children:"<"}),d.map(((e,a)=>(0,l.jsx)("div",{onClick:()=>{"..."!==e&&c(e)},className:e===t?"active-home-page":"",disabled:"..."===e,"aria-current":e===t?"page":void 0,style:{width:"56px !important",height:"56px !important",display:"flex",alignItems:"center",justifyContent:"center",gap:"0px !important",borderRadius:"8px !important",opacity:"0px !important",boxShadow:"0px 4px 24px 0px #0084CF14 !important",marginLeft:"10px !important",outline:"none !important",border:"none !important",fontSize:"20px !important",fontWeight:"600 !important",lineHeight:"28.9px !important",cursor:"pointer"},children:e},a))),(0,l.jsx)("div",{onClick:()=>c(t+1),disabled:t===r,"aria-label":"Next",style:{width:"56px !important",height:"56px !important",display:"flex",alignItems:"center",justifyContent:"center",gap:"0px !important",borderRadius:"8px !important",opacity:"0px !important",boxShadow:"0px 4px 24px 0px #0084CF14 !important",marginLeft:"10px !important",outline:"none !important",border:"none !important",fontSize:"20px !important",fontWeight:"600 !important",lineHeight:"28.9px !important",cursor:"pointer"},children:">"})]})}},20761:(e,t,a)=>{function i(e){return new Date(e).toLocaleString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}).replace(",","")}function l(e){const t=new Date(e),a=String(t.getDate()).padStart(2,"0"),i=String(t.getMonth()+1).padStart(2,"0"),l=t.getFullYear();return"".concat(a,"-").concat(i,"-").concat(l)}function n(){const e=new Date,t=e.getHours().toString().padStart(2,"0"),a=e.getMinutes().toString().padStart(2,"0");return"".concat(t,":").concat(a)}a.d(t,{Ln:()=>n,Yq:()=>l,r6:()=>i})},90051:(e,t,a)=>{a.r(t),a.d(t,{default:()=>D});var i=a(65043),l=(a(79505),a(17406),a(44101)),n=a(44227),s=a(257),r=a(99558),o=a(73216),c=a(35475),d=a(42878),u=a(11418),p=a(89689),m=a(16323),h=a(97397),v=a(85968),x=a(84709),g=a(31899),f=a.n(g),j=a(70579);const N=function(e){let{visible:t,setVisible:a,RegDoctors:s,getFilter:r}=e;const o=new Date,[c,g]=(0,i.useState)(null),[N,b]=(0,i.useState)(null),[y,S]=(0,i.useState)(""),[D,w]=(0,i.useState)({startDate:"",endDate:"",doctor:""}),C=()=>{if((()=>{let e=!0;const t={startDate:"",endDate:"",doctor:""};return c&&N&&c>N&&(t.startDate="Start date must be before end date.",t.endDate="End date must be after start date.",e=!1),!c&&N&&(t.startDate="Start date is required when end date is selected.",e=!1),c&&!N&&(t.endDate="End date is required when start date is selected.",e=!1),w(t),e})()){a(!1);const e={id:y||null,startDate:c?null===c||void 0===c?void 0:c.toLocaleDateString():null,endDate:N?null===N||void 0===N?void 0:N.toLocaleDateString():null};r(e)}};return(0,j.jsxs)(d.z,{visible:t,onClose:()=>a(!1),"aria-labelledby":"LiveDemoExampleLabel",className:"modal-cutomize",backdrop:"static",children:[(0,j.jsx)(u.E,{children:(0,j.jsx)(p.l,{id:"LiveDemoExampleLabel",children:"FILTER"})}),(0,j.jsxs)(m.T,{children:[(0,j.jsxs)(h.M,{"aria-label":"Default select example",onChange:e=>{const t=e.target.value;S(t),console.log("Selected doctor ID:",t),w((e=>({...e,doctor:""})))},value:y,children:[(0,j.jsx)("option",{value:"",children:"Filter with Doctor"})," ",null===s||void 0===s?void 0:s.map((e=>{var t,a,i,l;return(0,j.jsxs)("option",{value:null===e||void 0===e||null===(a=e.user)||void 0===a?void 0:a.id,children:[null===e||void 0===e||null===(i=e.user)||void 0===i?void 0:i.first_name," ",null===e||void 0===e||null===(l=e.user)||void 0===l?void 0:l.last_name]},null===e||void 0===e||null===(t=e.user)||void 0===t?void 0:t.id)}))]}),(0,j.jsxs)(l.s,{children:[(0,j.jsxs)(n.U,{lg:6,sm:12,children:[(0,j.jsx)("p",{className:"date-sec",children:"From Date"}),(0,j.jsx)(f(),{showIcon:!0,selected:c,onChange:e=>g(e),isClearable:!0,className:"date-range-picker picker-sec",dateFormat:"dd/MM/yyyy",maxDate:o}),D.startDate&&(0,j.jsx)("p",{className:"error-text",children:D.startDate})]}),(0,j.jsxs)(n.U,{lg:6,sm:12,children:[(0,j.jsx)("p",{className:"date-sec",children:"End Date"}),(0,j.jsx)(f(),{showIcon:!0,selected:N,onChange:e=>b(e),isClearable:!0,className:"date-range-picker picker-sec",dateFormat:"dd/MM/yyyy",maxDate:o}),D.endDate&&(0,j.jsx)("p",{className:"error-text",children:D.endDate})]})]})]}),(0,j.jsxs)(v.I,{children:[(0,j.jsx)(x.Q,{color:"secondary",onClick:()=>(g(),b(),S(""),void w({startDate:"",endDate:"",doctor:""})),className:"clear-filter-btn",children:"Clear Filter"}),(0,j.jsx)(x.Q,{color:"primary",className:"apply-filter-sec",onClick:()=>C(),children:"Apply Filter"})]})]})};var b=a(89302),y=a(70986),S=a(64417);const D=function(){var e;const[t,a]=(0,i.useState)(!1),d=(0,o.Zp)(),[u,p]=(0,i.useState)([]),[m,h]=(0,i.useState)([]),[v,x]=(0,i.useState)(0),[g,f]=(0,i.useState)({id:null,startDate:null,endDate:null}),{loading:D,error:w,get:C,post:k}=(0,b.A)(),[I,P]=(0,i.useState)(1),E=null===(e=(0,o.zy)().state)||void 0===e?void 0:e.PatientDetail,_=()=>{d("/patients/summary",{state:{PatientDetail:E}}),localStorage.removeItem("patiendDetailTab")};(0,i.useEffect)((()=>{(async()=>{try{const i=await C("resource/consults?limit=".concat(9,"&page=").concat(I).concat(null!==g.id?"&participant_ref_number=".concat(g.id):"").concat(null!==g.startDate?"&from_date=".concat(g.startDate):"").concat(null!==g.endDate?"&to_date=".concat(g.endDate):""));var e,t,a;console.log(i),200===i.code?(h(null===i||void 0===i||null===(e=i.data)||void 0===e?void 0:e.consults),x(null===i||void 0===i||null===(t=i.data)||void 0===t||null===(a=t.pagination)||void 0===a?void 0:a.total)):h([])}catch(i){console.error("Error fetching data:",i)}})()}),[I,g]);const T=(0,i.useCallback)((async()=>{try{const t=await C("resource/providers?order_by=id&dir=1");var e;if(console.log(t),200===t.code)p(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.providers);else p([])}catch(t){console.error("Error fetching data:",t)}}),[C]);return(0,i.useEffect)((()=>{T()}),[T]),console.log("getFilter",g),(0,j.jsxs)("section",{className:"call-history-sec",children:[(0,j.jsxs)("div",{className:"flex-sec top-sec",children:[(0,j.jsxs)("div",{className:"bread-crumbs",children:[(0,j.jsxs)("p",{className:"mb-0",children:[(0,j.jsx)(c.N_,{to:"/patients",children:"Patient"})," /"," ",(0,j.jsx)(c.N_,{to:"/patients",className:"active",children:"Existing Patient"})]}),(0,j.jsx)("h4",{children:"Appointments - Call History"})]}),(0,j.jsx)("div",{className:"patient-adding",children:(0,j.jsxs)("button",{onClick:()=>a(!t),children:[(0,j.jsx)("img",{src:s.s.filter,alt:"filter-sec",className:"filter-icon"})," ","Filter"]})})]}),(0,j.jsx)("div",{className:"doctor-card-sec",children:(0,j.jsxs)("div",{className:"row",children:[D?(0,j.jsx)("div",{className:"d-flex w-100 justify-content-center mb-3 align-items-center",style:{height:"350px",maxHeight:"100%"},children:(0,j.jsx)(S.A,{})}):m.length<=0?(0,j.jsx)("div",{className:"d-flex w-100 justify-content-center mb-3 align-items-center",style:{height:"350px",maxHeight:"100%"},children:(0,j.jsx)("h5",{children:"No Data Found"})}):(0,j.jsx)(j.Fragment,{children:m.map(((e,t)=>(0,j.jsx)("div",{className:"col-4",onClick:()=>_(),children:(0,j.jsx)(c.N_,{className:"card-link",children:(0,j.jsx)(r.A,{DoctorDetail:e})})})))}),(0,j.jsx)(l.s,{className:"mb-3",children:(0,j.jsx)(n.U,{lg:12,className:"d-flex justify-content-center",children:(0,j.jsx)(y.A,{currentPage:I,onPageChange:e=>{P(e)},totalItems:v,itemsPerPage:9})})})]})}),(0,j.jsx)("div",{className:"modal-sec",children:(0,j.jsx)(N,{visible:t,setVisible:a,RegDoctors:u,getFilter:e=>{f(e)}})})]})}},84709:(e,t,a)=>{a.d(t,{Q:()=>d});var i=a(22378),l=a(65043),n=a(65173),s=a.n(n),r=a(25196),o=a(90777),c=a(75232),d=(0,l.forwardRef)((function(e,t){var a,n=e.children,s=e.as,c=void 0===s?"button":s,d=e.className,u=e.color,p=e.shape,m=e.size,h=e.type,v=void 0===h?"button":h,x=e.variant,g=(0,i.Tt)(e,["children","as","className","color","shape","size","type","variant"]);return l.createElement(o.K,(0,i.Cl)({as:g.href?"a":c},!g.href&&{type:v},{className:(0,r.A)("btn",x?"btn-".concat(x,"-").concat(u):"btn-".concat(u),(a={},a["btn-".concat(m)]=m,a),p,d)},g,{ref:t}),n)}));d.propTypes={as:s().elementType,children:s().node,className:s().string,color:c.TX,shape:s().string,size:s().oneOf(["sm","lg"]),type:s().oneOf(["button","submit","reset"]),variant:s().oneOf(["outline","ghost"])},d.displayName="CButton"},85968:(e,t,a)=>{a.d(t,{I:()=>o});var i=a(22378),l=a(65043),n=a(65173),s=a.n(n),r=a(25196),o=(0,l.forwardRef)((function(e,t){var a=e.children,n=e.className,s=(0,i.Tt)(e,["children","className"]);return l.createElement("div",(0,i.Cl)({className:(0,r.A)("modal-footer",n)},s,{ref:t}),a)}));o.propTypes={children:s().node,className:s().string},o.displayName="CModalFooter"},89689:(e,t,a)=>{a.d(t,{l:()=>o});var i=a(22378),l=a(65043),n=a(65173),s=a.n(n),r=a(25196),o=(0,l.forwardRef)((function(e,t){var a=e.children,n=e.as,s=void 0===n?"h5":n,o=e.className,c=(0,i.Tt)(e,["children","as","className"]);return l.createElement(s,(0,i.Cl)({className:(0,r.A)("modal-title",o)},c,{ref:t}),a)}));o.propTypes={as:s().elementType,children:s().node,className:s().string},o.displayName="CModalTitle"}}]);
//# sourceMappingURL=51.54140f51.chunk.js.map